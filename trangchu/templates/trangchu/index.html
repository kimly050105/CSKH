<!DOCTYPE html>
{% load static %}
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Punky Spa</title>
    <link rel="stylesheet" href="{% static 'trangchu/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
    /* üîî H·ªôp th√¥ng b√°o c∆° b·∫£n */
    .notify-box {
        position: relative;
        display: inline-block;
        margin-right: 15px;
    }

    .notify-icon {
        font-size: 18px;
        cursor: pointer;
        color: #a01940;
    }

    .notify-content {
        display: none;
        position: absolute;
        right: 0;
        top: 25px;
        width: 250px;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.15);
        z-index: 1000;
        padding: 10px;
        text-align: left;
    }

    .notify-box:hover .notify-content {
        display: block;
    }

    .notify-item {
        border-bottom: 1px solid #eee;
        padding: 6px;
    }

    .notify-item:hover {
        background: #fff5f8;
    }

    .view-all {
        display: block;
        text-align: center;
        color: #ff5c8d;
        font-weight: 600;
        text-decoration: none;
        padding: 6px;
    }

    .view-all:hover {
        text-decoration: underline;
    }

    /* üîπ N√∫t ƒëƒÉng nh·∫≠p/ƒëƒÉng k√Ω nh·ªè g·ªçn */
    .btn {
        background-color: #f06277;
        color: #fff;
        border: none;
        border-radius: 8px;
        padding: 6px 10px;
        margin: 5px;
        text-decoration: none;
        font-size: 14px;
        display: inline-block;
    }

    .btn:hover {
        background-color: #a01940;
    }
    </style>
</head>

<body>
    <!-- üîπ Thanh tr√™n c√πng -->
    <div class="topbar">
        <div class="left">
            üïò Gi·ªù l√†m vi·ªác: T·ª´ 09h00 ƒë·∫øn 21h00
        </div>

        <div class="right">
            {% if user.is_authenticated %}
            <!-- üîî N·∫øu ƒë√£ ƒëƒÉng nh·∫≠p -->
            <div class="notify-box">
                <span class="notify-icon">üîî</span>
                <div class="notify-content">
                    {% for tb in thong_baos_moi %}
                        <div class="notify-item">
                            <strong>{{ tb.tieu_de }}</strong><br>
                            <small>{{ tb.ngay_tao|date:"d/m/Y H:i" }}</small>
                        </div>
                    {% empty %}
                        <p>Kh√¥ng c√≥ th√¥ng b√°o m·ªõi.</p>
                    {% endfor %}
                    <a href="{% url 'danh_sach_thong_bao' %}" class="view-all">Xem t·∫•t c·∫£</a>
                </div>
            </div>

            <!-- üîπ Menu t√†i kho·∫£n -->
            <div class="user-menu">
                <button class="user-btn">
                    <i class="fa fa-user"></i> {{ user.username }}
                    <i class="fa fa-caret-down"></i>
                </button>

                <div class="dropdown-menu">
                    <a href="{% url 'thongtintaikhoan' %}"><i class="fa fa-user-circle"></i> T√†i kho·∫£n</a>
                    <a href="#"><i class="fa fa-star"></i> T√≠ch ƒëi·ªÉm</a>
                    <a href="#"><i class="fa fa-ticket"></i> M√£ ∆∞u ƒë√£i</a>
                    <a href="#"><i class="fa fa-calendar"></i> L·ªãch h·∫πn</a>
                    <a href="#"><i class="fa fa-comments"></i> Khi·∫øu n·∫°i</a>
                    <a href="{% url 'dangxuat' %}"><i class="fa fa-sign-out-alt"></i> ƒêƒÉng xu·∫•t</a>
                    <a href="#"><i class="fa fa-trash"></i> X√≥a t√†i kho·∫£n</a>
                </div>
            </div>

            {% else %}
            <!-- üîπ N·∫øu ch∆∞a ƒëƒÉng nh·∫≠p -->
            <div class="notify-box">
                <span class="notify-icon">üîî</span>
                <div class="notify-content">
                    <div style="text-align:center; padding:15px;">
                        <p>ƒêƒÉng nh·∫≠p ƒë·ªÉ xem th√¥ng b√°o</p>
                        <a href="{% url 'dangnhap' %}" class="btn">ƒêƒÉng nh·∫≠p</a>
                        <a href="{% url 'dangky' %}" class="btn">ƒêƒÉng k√Ω</a>
                    </div>
                </div>
            </div>
            <a href="{% url 'dangnhap' %}">ƒêƒÉng nh·∫≠p</a> |
            <a href="{% url 'dangky' %}">ƒêƒÉng k√Ω</a>
            {% endif %}
        </div>
    </div>

    <!-- üîπ Thanh ƒëi·ªÅu h∆∞·ªõng -->
    <header class="navbar">
        <div class="logo">
            <img src="{% static 'trangchu/logo.png' %}" alt="Logo Punky Spa">
            <h1><span class="pink">Punky</span> Spa</h1>
        </div>

        <nav>
            <a href="{% url 'home' %}" class="active">Trang ch·ªß</a>
            <a href="#">D·ªãch v·ª•</a>
            <a href="#">Khuy·∫øn m√£i</a>
        </nav>

        <div class="search">
            <input type="text" placeholder="T√¨m ki·∫øm...">
            <button>üîç</button>
        </div>
    </header>

    <!-- üîπ Banner to√†n m√†n h√¨nh -->
    <section class="banner-full">
        <img src="{% static 'trangchu/banner.png' %}" alt="Banner Punky Spa">
    </section>

    <!-- üîπ Ph·∫ßn gi·ªõi thi·ªáu -->
    <section class="intro">
        <h2>Gi·ªõi thi·ªáu</h2>
        <div class="gallery">
            <img src="{% static 'trangchu/cat1.png' %}" alt="">
            <img src="{% static 'trangchu/cat2.png' %}" alt="">
            <img src="{% static 'trangchu/cat3.png' %}" alt="">
        </div>
    </section>

    {% block content %}{% endblock %}

    <!-- üîπ FOOTER -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-column">
                <h4>Li√™n l·∫°c</h4>
                <p>Hotline: 1900 6750</p>
                <p>ƒê·ªãa ch·ªâ: 627 Ng√¥ Quy·ªÅn, An H·∫£i B·∫Øc,<br>ƒê√† N·∫µng, Vi·ªát Nam</p>
            </div>

            <div class="footer-column">
                <h4>Ch√≠nh s√°ch</h4>
                <p>Ch√≠nh s√°ch b·∫£o m·∫≠t</p>
                <p>Quy ƒë·ªãnh s·ª≠ d·ª•ng</p>
            </div>

            <div class="footer-column">
                <h4>T·ªïng ƒë√†i h·ªó tr·ª£</h4>
                <p>T∆∞ v·∫•n d·ªãch v·ª•: 1800 6750</p>
                <p>H·ªó tr·ª£ s·ª≠ d·ª•ng: 1900 6750</p>
                <p>Email: punkyspa@gmail.vn</p>
                <p>T·ª´ 7h00 ‚Äì 20h00 c√°c ng√†y t·ª´ th·ª© 2 ƒë·∫øn Ch·ªß nh·∫≠t.</p>
            </div>
        </div>
    </footer>

    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const userBtn = document.querySelector(".user-btn");
        const dropdown = document.querySelector(".dropdown-menu");

        if (userBtn) {
            userBtn.addEventListener("click", (e) => {
                e.stopPropagation();
                dropdown.classList.toggle("show");
            });

            document.addEventListener("click", () => {
                dropdown.classList.remove("show");
            });
        }
    });
    </script>
</body>
</html>
